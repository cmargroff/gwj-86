[gd_scene load_steps=34 format=3 uid="uid://c8en35aminwok"]

[ext_resource type="Script" uid="uid://ccnmr6gfuk8c5" path="res://components/player/Player.cs" id="1_kfe3d"]
[ext_resource type="Texture2D" uid="uid://cavvwiogt7c0p" path="res://assets/sprites/player/atlas.sprites/HoodShadow.tres" id="3_lbsqm"]
[ext_resource type="Texture2D" uid="uid://sg87slxyhve5" path="res://assets/sprites/player/atlas.sprites/FootBack.tres" id="3_ocmko"]
[ext_resource type="Texture2D" uid="uid://kqxb1ahenocy" path="res://assets/sprites/player/atlas.sprites/Eyes.tres" id="4_5u2jg"]
[ext_resource type="Texture2D" uid="uid://dech0esfkeugq" path="res://assets/sprites/player/atlas.sprites/FootFront.tres" id="4_wtb5b"]
[ext_resource type="Texture2D" uid="uid://b2id541mo37xw" path="res://assets/sprites/player/atlas.sprites/Hood1.tres" id="5_xnekc"]
[ext_resource type="SpriteFrames" path="res://assets/sprites/player/CloakLightFrames.tres" id="6_rvha6"]
[ext_resource type="SpriteFrames" path="res://assets/sprites/player/CloakFrames.tres" id="6_yngd5"]
[ext_resource type="Texture2D" uid="uid://c8bet7o5pums8" path="res://assets/sprites/player/atlas.sprites/Sleeve.tres" id="7_hvdg6"]
[ext_resource type="Texture2D" uid="uid://dtquteyhh8vbe" path="res://assets/sprites/player/atlas.sprites/SleeveLight.tres" id="8_x1ks5"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_kfe3d"]
radius = 8.0
height = 32.0

[sub_resource type="Animation" id="Animation_hvdg6"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WeaponRoot/Dagger:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WeaponRoot/Dagger:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("WeaponRoot/Dagger:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-0.32218286, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_ocmko"]
length = 0.43333668
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WeaponRoot/Dagger:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 3, 3, 3, 3),
"points": PackedFloat32Array(3, -0.25, 0, 0.033333335, -1.8360881, -1, -0.033333335, 1, 0.033333335, -1, 27.306372, -0.025000002, -4, 0.025000002, 4, 18.60377, -0.007407412, 11.337658, 0.007407412, -11.337658, 3, -0.06666667, 2.4999998, 0.06666667, -2.4999998),
"times": PackedFloat32Array(0, 0.048148148, 0.16851853, 0.24074075, 0.43333334)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WeaponRoot/Dagger:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 3, 3, 3, 3),
"points": PackedFloat32Array(8, -0.25, 0, 0.06666667, -0.2831583, 5, -0.033333335, 0.75, 0.033333335, -0.75, 2.0000002, -0.025000002, 0.74999994, 0.025000002, -0.74999994, -0.9999995, -0.034540087, -7.2667794, 0.034540087, 7.2667794, 8, -0.100000024, 0.61831665, 0.100000024, -0.61831665),
"times": PackedFloat32Array(0, 0.048148148, 0.16851853, 0.24074075, 0.43333334)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("WeaponRoot/Dagger:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 3, 3, 3, 3),
"points": PackedFloat32Array(-0.32218286, -0.25, 0, 0.12804766, -0.063146174, -1.4436238, -0.033333335, 0.28036022, 0.033333335, -0.28036022, -1.6259913, -0.025000002, 0.04559189, 0.025000002, -0.04559189, -1.8709475, -0.024999999, 0.061239038, 0.024999999, -0.061239038, -0.322, -0.06666666, -0.13371015, 0.06666666, 0.13371015),
"times": PackedFloat32Array(0, 0.096296296, 0.16851853, 0.24074075, 0.43333334)
}

[sub_resource type="Animation" id="Animation_wtb5b"]

[sub_resource type="Animation" id="Animation_rvha6"]

[sub_resource type="Animation" id="Animation_yngd5"]

[sub_resource type="Animation" id="Animation_yxufj"]

[sub_resource type="Animation" id="Animation_a5sp0"]

[sub_resource type="Animation" id="Animation_lt7w0"]
length = 2.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WeaponRoot/Dagger:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(2, 0, 2),
"points": PackedFloat32Array(3, -0.25, 0, 0.25, 0, 3, -0.083333336, 0, 0, 0, 3, -0.16111112, 0, 0, 0),
"times": PackedFloat32Array(0, 1.0333333, 2)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WeaponRoot/Dagger:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(2, 3, 2),
"points": PackedFloat32Array(8, -0.25, 0, 0.25, 0, 4.439764, -0.28614938, -0.026734829, 0.28614938, 0.026734829, 8, -0.26734102, -0.031236649, 0, 0),
"times": PackedFloat32Array(0, 1.0333333, 2)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("WeaponRoot/Dagger:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(3, 3, 3),
"points": PackedFloat32Array(-0.32218286, -0.4, -0.08110851, 0.4, 0.08110851, -0.5033559, -0.36666667, -0.048084944, 0.36666667, 0.048084944, -0.322, -0.33333325, -0.07655428, 0.33333325, 0.07655428),
"times": PackedFloat32Array(0, 1.2666667, 2.0333333)
}

[sub_resource type="Animation" id="Animation_xh4xr"]

[sub_resource type="Animation" id="Animation_eglpv"]

[sub_resource type="Animation" id="Animation_lbsqm"]

[sub_resource type="Animation" id="Animation_xnekc"]

[sub_resource type="Animation" id="Animation_5u2jg"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ocmko"]
_data = {
&"RESET": SubResource("Animation_hvdg6"),
&"attack1": SubResource("Animation_ocmko"),
&"attack2": SubResource("Animation_wtb5b"),
&"attack3": SubResource("Animation_rvha6"),
&"dash": SubResource("Animation_yngd5"),
&"entry": SubResource("Animation_yxufj"),
&"fall": SubResource("Animation_a5sp0"),
&"idle": SubResource("Animation_lt7w0"),
&"jump": SubResource("Animation_xh4xr"),
&"jumpAir": SubResource("Animation_eglpv"),
&"jumpWall": SubResource("Animation_lbsqm"),
&"run": SubResource("Animation_xnekc"),
&"walk": SubResource("Animation_5u2jg")
}

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_x1ks5"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_yxufj"]
radius = 0.6384946
height = 1.5749639

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_a5sp0"]
target_nodepath = NodePath("../FootL_IK")
flip_bend_direction = true
joint_one_bone_idx = 2
joint_one_bone2d_node = NodePath("Root/Hip/LegL")
joint_two_bone_idx = 3
joint_two_bone2d_node = NodePath("Root/Hip/LegL/ShinL")

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_ocmko"]
target_nodepath = NodePath("../FootR_IK")
joint_one_bone_idx = 4
joint_one_bone2d_node = NodePath("Root/Hip/LegR")
joint_two_bone_idx = 5
joint_two_bone2d_node = NodePath("Root/Hip/LegR/ShinR")

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_wtb5b"]
bone_index = 6
bone2d_node = NodePath("Root/Hip/Head")
target_nodepath = NodePath("../HeadLook")

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_rvha6"]
bone_index = 7
bone2d_node = NodePath("Root/Hip/Head/Eyes")
target_nodepath = NodePath("../HeadLook")

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_a5sp0"]
bone_index = 8
bone2d_node = NodePath("Root/Hip/Arm")
target_nodepath = NodePath("../Arm_IK")

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_hvdg6"]
enabled = true
modification_count = 5
modifications/0 = SubResource("SkeletonModification2DTwoBoneIK_a5sp0")
modifications/1 = SubResource("SkeletonModification2DTwoBoneIK_ocmko")
modifications/2 = SubResource("SkeletonModification2DLookAt_wtb5b")
modifications/3 = SubResource("SkeletonModification2DLookAt_rvha6")
modifications/4 = SubResource("SkeletonModification2DLookAt_a5sp0")

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("AnimationPlayer")]
script = ExtResource("1_kfe3d")
AnimationPlayer = NodePath("AnimationPlayer")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -16)
zoom = Vector2(1.5, 1.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -16)
shape = SubResource("CapsuleShape2D_kfe3d")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_ocmko")
}
playback_default_blend_time = 0.1

[node name="WeaponRoot" type="Node2D" parent="."]
position = Vector2(0, -16)

[node name="Dagger" type="Sprite2D" parent="WeaponRoot"]
rotation = -0.32218286
scale = Vector2(2.53375, 14.858126)
texture = SubResource("PlaceholderTexture2D_x1ks5")

[node name="Area2D" type="Area2D" parent="WeaponRoot/Dagger"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WeaponRoot/Dagger/Area2D"]
shape = SubResource("CapsuleShape2D_yxufj")

[node name="Visuals" type="Node2D" parent="."]
scale = Vector2(0.25, 0.25)

[node name="FootL_IK" type="Marker2D" parent="Visuals"]
position = Vector2(-40, 0)

[node name="FootR_IK" type="Marker2D" parent="Visuals"]
position = Vector2(40, 0)

[node name="HeadLook" type="Marker2D" parent="Visuals"]
position = Vector2(-584, -700)

[node name="Arm_IK" type="Marker2D" parent="Visuals"]
position = Vector2(100, -196)

[node name="Skeleton2D" type="Skeleton2D" parent="Visuals"]
modification_stack = SubResource("SkeletonModificationStack2D_hvdg6")

[node name="Root" type="Bone2D" parent="Visuals/Skeleton2D"]
rest = Transform2D(1, 0, 0, 1, 0, 0)

[node name="Hip" type="Bone2D" parent="Visuals/Skeleton2D/Root"]
position = Vector2(0, -376)
rest = Transform2D(1, 0, 0, 1, 0, -376)

[node name="LegL" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip"]
position = Vector2(-44, 13)
rest = Transform2D(0.99989206, -0.011018129, 0.011018129, 0.99989206, -44, 13)
metadata/_local_pose_override_enabled_ = true

[node name="ShinL" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip/LegL"]
position = Vector2(0, 162)
rotation = 0.84026784
scale = Vector2(0.9999971, 0.9999971)
rest = Transform2D(0.9999756, 0, 0, 0.9999756, 0, 162)
metadata/_local_pose_override_enabled_ = true

[node name="FootBack" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/LegL/ShinL"]
position = Vector2(-40, 53)
texture = ExtResource("3_ocmko")

[node name="LegR" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip"]
position = Vector2(41, 13)
rest = Transform2D(0.9998269, 0.0027543376, -0.0027543376, 0.9998269, 41, 13)
metadata/_local_pose_override_enabled_ = true

[node name="ShinR" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip/LegR"]
position = Vector2(0, 164)
rest = Transform2D(0.99999917, 4.6566123e-10, -4.6566123e-10, 0.99999917, 0, 164)
metadata/_local_pose_override_enabled_ = true

[node name="FootFront" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/LegR/ShinR"]
position = Vector2(-25, 63)
texture = ExtResource("4_wtb5b")

[node name="Cloak2" type="AnimatedSprite2D" parent="Visuals/Skeleton2D/Root/Hip"]
position = Vector2(31, -8.399994)
sprite_frames = ExtResource("6_yngd5")
animation = &"idle"
autoplay = "idle"

[node name="CloakLight" type="AnimatedSprite2D" parent="Visuals/Skeleton2D/Root/Hip/Cloak2"]
position = Vector2(0, 10)
scale = Vector2(0.9999998, 0.9999998)
sprite_frames = ExtResource("6_rvha6")
animation = &"idle"
autoplay = "idle"

[node name="Head" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip"]
position = Vector2(24, -276)
scale = Vector2(0.9999755, 0.9999755)
rest = Transform2D(0.9999755, 0, 0, 0.9999755, 24, -276)
auto_calculate_length_and_angle = false
length = 100.0
bone_angle = 180.0
metadata/_local_pose_override_enabled_ = true

[node name="HoodShadow" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/Head"]
show_behind_parent = true
position = Vector2(-29, -85.00006)
texture = ExtResource("3_lbsqm")

[node name="Eyes" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip/Head"]
position = Vector2(-40.000977, -84.00208)
rest = Transform2D(1, 0, 0, 1, -40.000977, -84.00208)
metadata/_local_pose_override_enabled_ = true

[node name="Eyes2" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/Head/Eyes"]
position = Vector2(-8.0002, 1.21593475e-05)
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("4_5u2jg")

[node name="Hood1" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/Head"]
position = Vector2(-8, -99)
texture = ExtResource("5_xnekc")

[node name="Arm" type="Bone2D" parent="Visuals/Skeleton2D/Root/Hip"]
position = Vector2(91, -209)
rest = Transform2D(1, 0, 0, 1, 91, -209)
auto_calculate_length_and_angle = false
length = 355.213
bone_angle = -4.4859996
metadata/_local_pose_override_enabled_ = true

[node name="Sleeve2" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/Arm"]
position = Vector2(161, -28)
rotation = -1.5707964
texture = ExtResource("7_hvdg6")

[node name="SleeveLight" type="Sprite2D" parent="Visuals/Skeleton2D/Root/Hip/Arm/Sleeve2"]
position = Vector2(0, 180.00003)
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("8_x1ks5")
